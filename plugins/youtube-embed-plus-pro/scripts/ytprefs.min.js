
(function(a,b){a._EPYT_=a._EPYT_||{ajaxurl:"/wp-admin/admin-ajax.php",security:"",gallery_scrolloffset:100,eppathtoscripts:"/wp-content/plugins/youtube-embed-plus-pro/scripts/",eppath:"/wp-content/plugins/youtube-embed-plus-pro/",epresponsiveselector:["iframe.__youtube_prefs_widget__"],epdovol:true,evselector:'iframe.__youtube_prefs__[src], iframe[src*="youtube.com/embed/"], iframe[src*="youtube-nocookie.com/embed/"]',stopMobileBuffer:true,ajax_compat:false,usingdefault:true,ytapi_load:"light"};if(a.location.toString().indexOf("https://")===0){a._EPYT_.ajaxurl=a._EPYT_.ajaxurl.replace("http://","https://")}a._EPYT_.pageLoaded=false;b(a).on("load._EPYT_",function(){a._EPYT_.pageLoaded=true});if(!document.querySelectorAll){document.querySelectorAll=function(d){var f=document,e=f.documentElement.firstChild,c=f.createElement("STYLE");e.appendChild(c);f.__qsaels=[];c.styleSheet.cssText=d+"{x:expression(document.__qsaels.push(this))}";a.scrollBy(0,0);return f.__qsaels}}if(typeof a._EPADashboard_==="undefined"){a._EPADashboard_={initStarted:false,checkCount:0,onPlayerReady:function(h){try{if(typeof _EPYT_.epdovol!=="undefined"&&_EPYT_.epdovol){var e=parseInt(h.target.getIframe().getAttribute("data-vol"));if(!isNaN(e)){if(e===0){h.target.mute()}else{if(h.target.isMuted()){h.target.unMute()}h.target.setVolume(e)}}}var d=parseInt(h.target.getIframe().getAttribute("data-epautoplay"));if(!isNaN(d)&&d===1){h.target.playVideo()}}catch(g){}try{var f=b(h.target.getIframe());if(f.hasClass("epyt-lbif")&&f.hasClass("epyt-thumbplay")&&f.closest(".lity-content").length){if(!(navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)&&a._EPYT_.stopMobileBuffer)){h.target.playVideo()}}}catch(c){}setTimeout(function(){try{var j=a._EPADashboard_.justid(h.target.getVideoUrl());a._EPADashboard_.yt_dash("ytid="+j)}catch(i){}},1700)},onPlayerStateChange:function(c){var h=c.target.getIframe();if(c.data===a.YT.PlayerState.PLAYING&&c.target.ponce!==true&&h.src.indexOf("autoplay=1")===-1){c.target.ponce=true;try{var k=a._EPADashboard_.justid(c.target.getVideoUrl());a._EPADashboard_.yt_dash("ytid="+k+"&p=1")}catch(e){}}if(c.data===a.YT.PlayerState.ENDED&&b(h).data("relstop")=="1"){c.target.stopVideo()}var j=b(h).closest(".epyt-gallery");if(!j.length){j=b("#"+b(h).data("epytgalleryid"))}if(j.length){var g=j.find(".epyt-pagebutton").first().data("autonext")=="1";if(g&&c.data===a.YT.PlayerState.ENDED){var d=j.find(".epyt-current-video");if(!d.length){d=j.find(".epyt-gallery-thumb").first()}var f=d.find(" ~ .epyt-gallery-thumb").first();var i=b("div.lity-wrap[data-lity-close]");if(f.length){if(i.length){a._EPADashboard_.lb.close();setTimeout(function(){f.click()},1000)}else{f.click()}}else{if(i.length){a._EPADashboard_.lb.close();setTimeout(function(){j.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().click()},1000)}else{j.find('.epyt-pagebutton.epyt-next[data-pagetoken!=""][data-pagetoken]').first().click()}}}}},justid:function(c){return new RegExp("[\\?&]v=([^&#]*)").exec(c)[1]},setupevents:function(d){if(typeof(a.YT)!=="undefined"&&a.YT!==null&&a.YT.loaded){var c=document.getElementById(d);if(!c.epytsetupdone){a._EPADashboard_.log("Setting up YT API events: "+d);c.epytsetupdone=true;return new a.YT.Player(d,{events:{onReady:a._EPADashboard_.onPlayerReady,onStateChange:a._EPADashboard_.onPlayerStateChange}})}}},yt_dash:function(c){if(a._EPYT_.dshpre){b.post(_EPYT_.ajaxurl,{action:"my_embedplus_yt_dash",security:_EPYT_.security,qstring:"es=w&u="+encodeURIComponent(a.location.href.split("#")[0])+"&"+c})}},apiInit:function(){if(typeof(a.YT)!=="undefined"){a._EPADashboard_.initStarted=true;var c=document.querySelectorAll(_EPYT_.evselector);for(var d=0;d<c.length;d++){if(!c[d].hasAttribute("id")){c[d].id="_dytid_"+Math.round(Math.random()*8999+1000)}a._EPADashboard_.setupevents(c[d].id)}}},log:function(d){try{console.log(d)}catch(c){}},doubleCheck:function(){a._EPADashboard_.checkInterval=setInterval(function(){a._EPADashboard_.checkCount++;if(a._EPADashboard_.checkCount>=5||a._EPADashboard_.initStarted){clearInterval(a._EPADashboard_.checkInterval)}else{a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API init check")}},1000)},selectText:function(e){if(document.selection){var c=document.body.createTextRange();c.moveToElementText(e);c.select()}else{if(a.getSelection){var d=a.getSelection();var c=document.createRange();c.selectNode(e);d.removeAllRanges();d.addRange(c)}}},lb:typeof(a.lity)!=="undefined"?a.lity():function(){},fixDims:function(f,d){var e=b(f.target).find("iframe");if((e.height()===0||e.width()===0)&&!e.parent().parent().hasClass("lity-content")){var c=document.createElement("div");c.className="fluid-width-video-wrapper";e.unwrap();e.wrap(c).parent(".fluid-width-video-wrapper").attr("style","padding-top: 56.25% !important;");e.width("100%");e.height("100%")}},setVidSrc:function(c,d){c.attr("src",d);c.get(0).epytsetupdone=false;a._EPADashboard_.setupevents(c.attr("id"))},loadYTAPI:function(){if(typeof a.YT==="undefined"){if(a._EPYT_.ytapi_load!=="never"&&(a._EPYT_.ytapi_load==="always"||b('iframe[src*="youtube.com/embed/"]').length)){var c=document.createElement("script");c.src="https://www.youtube.com/iframe_api";c.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(c)}}else{if(a.YT.loaded){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API available 2")})}}}},pageReady:function(){b(".epyt-gallery").each(function(){var i=b(this);if(!i.data("epytevents")||!b("body").hasClass("block-editor-page")){i.data("epytevents","1");var h=b(this).find("iframe, div.__youtube_prefs_gdpr__").first();var g="content"+h.attr("id");i.find(".lity-hide").attr("id",g);var d=h.attr("src");if(!d){d=h.data("ep-src")}var f=b(this).find(".epyt-gallery-list .epyt-gallery-thumb").first().data("videoid");if(typeof(d)!=="undefined"){d=d.replace(f,"GALLERYVIDEOID");h.data("ep-gallerysrc",d)}else{if(h.hasClass("__youtube_prefs_gdpr__")){h.data("ep-gallerysrc","")}}var c=i.find(".epyt-gallery-list");var e=function(){try{if(c.hasClass("epyt-gallery-style-carousel")){var j=b(c.find(".epyt-gallery-thumb").get(0)).height();var k=j/2;var l=c.find(".epyt-pagination:first-child .epyt-pagenumbers");l.css("top",(k+15)+"px")}}catch(m){}};setTimeout(function(){e()},300);b(a).resize(e);i.on("click",".epyt-gallery-list .epyt-gallery-thumb",function(){i.find(".epyt-gallery-list .epyt-gallery-thumb").removeClass("epyt-current-video");b(this).addClass("epyt-current-video");var j=b(this).data("videoid");i.data("currvid",j);var n=h.data("ep-gallerysrc").replace("GALLERYVIDEOID",j);var m=i.find(".epyt-pagebutton").first().data("thumbplay");if(m!=="0"&&m!==0){if(n.indexOf("autoplay")>0){n=n.replace("autoplay=0","autoplay=1")}else{n+="&autoplay=1"}h.addClass("epyt-thumbplay")}if(i.hasClass("epyt-lb")){a._EPADashboard_.lb("#"+g);n=n.replace("autoplay=1","autoplay=0");if(h.is("[data-ep-src]")){h.data("ep-src",n);h.attr("data-ep-src",n)}else{a._EPADashboard_.setVidSrc(h,n)}b(".lity-close").focus()}else{if(i.find(".epyt-gallery-style-carousel").length===0){var k=Math.max(b("body").scrollTop(),b("html").scrollTop());var l=h.offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(k>l){b("html, body").animate({scrollTop:l},500,function(){a._EPADashboard_.setVidSrc(h,n)})}else{a._EPADashboard_.setVidSrc(h,n)}}else{a._EPADashboard_.setVidSrc(h,n)}}}).on("keydown",".epyt-gallery-list .epyt-gallery-thumb, .epyt-pagebutton",function(k){var j=k.which;if((j===13)||(j===32)){k.preventDefault();b(this).click()}});i.on("mouseenter",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).addClass("hover");if(c.hasClass("epyt-gallery-style-carousel")&&i.find(".epyt-pagebutton").first().data("showtitle")==1){i.find(".epyt-pagenumbers").addClass("hide");var j=b(this).find(".epyt-gallery-notitle span").text();i.find(".epyt-gallery-rowtitle").text(j).addClass("hover")}});i.on("mouseleave",".epyt-gallery-list .epyt-gallery-thumb",function(){b(this).removeClass("hover");if(c.hasClass("epyt-gallery-style-carousel")&&i.find(".epyt-pagebutton").first().data("showtitle")==1){i.find(".epyt-gallery-rowtitle").text("").removeClass("hover");if(i.find('.epyt-pagebutton[data-pagetoken!=""]').length>0){i.find(".epyt-pagenumbers").removeClass("hide")}}});i.on("click",".epyt-pagebutton",function(){var l={action:"my_embedplus_gallery_page",security:_EPYT_.security,options:{playlistId:b(this).data("playlistid"),pageToken:b(this).data("pagetoken"),pageSize:b(this).data("pagesize"),columns:b(this).data("epcolumns"),showTitle:b(this).data("showtitle"),showPaging:b(this).data("showpaging"),autonext:b(this).data("autonext"),hidethumbimg:b(this).data("hidethumbimg"),style:b(this).data("style"),thumbcrop:b(this).data("thumbcrop"),thumbplay:b(this).data("thumbplay")}};if(b(this).data("showdsc")){l.options.showDsc=b(this).data("showdsc")}var j=b(this).hasClass("epyt-next");var k=parseInt(i.data("currpage")+"");k+=j?1:-1;i.data("currpage",k);i.find(".epyt-gallery-list").addClass("epyt-loading");b.post(_EPYT_.ajaxurl,l,function(m){i.find(".epyt-gallery-list").html(m);i.find(".epyt-current").each(function(){b(this).text(i.data("currpage"))});i.find('.epyt-gallery-thumb[data-videoid="'+i.data("currvid")+'"]').addClass("epyt-current-video");if(i.find(".epyt-pagebutton").first().data("autonext")=="1"){i.find(".epyt-gallery-thumb").first().click()}}).fail(function(){alert("Sorry, there was an error loading the next page.")}).always(function(){i.find(".epyt-gallery-list").removeClass("epyt-loading");e();if(i.find(".epyt-gallery-style-carousel").length===0&&i.find(".epyt-pagebutton").first().data("autonext")!="1"){var m=Math.max(b("body").scrollTop(),b("html").scrollTop());var n=i.find(".epyt-gallery-list").offset().top-parseInt(_EPYT_.gallery_scrolloffset);if(m>n){b("html, body").animate({scrollTop:n},500)}}})})}});b("button.__youtube_prefs_gdpr__").on("click",function(c){c.preventDefault();if(b.cookie){b.cookie("ytprefs_gdpr_consent","1",{expires:30,path:"/"});a.top.location.reload()}})}}}a.onYouTubeIframeAPIReady=typeof a.onYouTubeIframeAPIReady!=="undefined"?a.onYouTubeIframeAPIReady:function(){if(a._EPYT_.pageLoaded){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready")}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API ready 2")})}};a._EPADashboard_.loadYTAPI();if(a._EPYT_.pageLoaded){a._EPADashboard_.doubleCheck()}else{b(a).on("load._EPYT_",function(){a._EPADashboard_.doubleCheck()})}b(document).ready(function(){b(document).on("lity:ready",function(e,c){try{a._EPADashboard_.fixDims(e,c)}catch(d){}});a._EPADashboard_.pageReady();a._EPADashboard_.loadYTAPI();if(a._EPYT_.ajax_compat){b(a).on("load._EPYT_",function(){b(document).ajaxSuccess(function(d,f,c){if(f&&f.responseText&&f.responseText.indexOf("<iframe ")!==-1){a._EPADashboard_.loadYTAPI();a._EPADashboard_.apiInit();a._EPADashboard_.log("YT API AJAX");a._EPADashboard_.pageReady()}})})}b(a).on("load._EPYT_",function(){b('script[type="text/javascript/ytdefer"]').each(function(){b(this).clone().attr("type","").insertAfter(this)})})})})(window,jQuery);